import e from"./mv-boolean-toggle.js ";class t extends e{static get inputId(){return"mv-nav-menu-toggle"}get uncheckedClass(){return"fa-solid fa-bars"}get checkedClass(){return"fa-solid fa-xmark"}get accessibleTextContent(){return"Toggle navigation menu"}get clickableElements(){const e=["a:not(#nav-links a):not(#page-footer small a)","label[for=mv-dark-toggle]"].join(",");return Array.from(document.querySelectorAll(e))}get elementsBlurred(){return["main",".home-link","footer"].map(e=>document.querySelector(e))}constructor(){super(),this.label.setAttribute("role","button"),this.label.setAttribute("aria-controls","nav-links"),document.addEventListener("keydown",function(e){"Escape"!==e.key&&"Esc"!==e.key||!this.checked||this.input.click()})}onCheckedStateChange(){this.clickableElements.forEach(e=>{e.setAttribute("tabindex",this.isChecked?"-1":"0")}),this.setAttribute("aria-expanded",this.checked),this.elementsBlurred.forEach(e=>{e.setAttribute("aria-hidden",this.checked)}),document.querySelector("body").classList.toggle("menu-blur")}}export default{register:()=>{customElements.define(t.inputId,t)},onpageshow:()=>{const e=document.querySelector(`${t.inputId} input[type="checkbox"]`);e&&e.checked&&e.click()}};